<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:adm="http://github.com/adminfaces"
    template="/WEB-INF/templates/template.xhtml">
	
	<f:metadata>
		<f:event type="preRenderView" listener="#{authenticateController.checkAlreadyLoggedin}" />
	</f:metadata>
	
    <ui:define name="title">
        <h:outputText value="#{msgsCore['user.updatePassPage.title']}" />
    </ui:define>

    <ui:define name="description">
        <h:outputText value="#{msgsCore['user.updatePassPage.description']}" />
    </ui:define>

    <ui:define name="body">
    <adm:breadcrumb link="/core/register/updatePassword" title="#{msgsCore['user.updatePassPage.title']}" />
		<h:form id="formUpdAddress">
			
			<h:outputText value="#{msgsCore['user.updatePassPage.allFieldsRequired']}" /> <p></p>
			<h:outputText value="#{msgsCore['user.updatePassPage.oldPassword']}" />*: 
			<p:password id="oldPass" value="#{registerController.oldPassword}" >
			<p:ajax update="cmdButton" event="blur" />
			</p:password><p></p>
			<h:outputText value="#{msgsCore['user.updatePassPage.newPassword']}" />*: 
			<p:password id="newPass" value="#{registerController.newPassword}"  >
			<p:ajax update="cmdButton" event="blur" />
			</p:password><p></p>
			<h:outputText value="#{msgsCore['user.updatePassPage.confirmPassword']}" />*: 
			<p:password id="confirmPass" value="#{registerController.confirmPassword}" >
			<p:ajax update="cmdButton" event="blur" />
			</p:password><p></p>
			
			<p:commandButton id="cmdButton" value="#{msgsCore['user.updatePassPage.updateButton']}" action="#{registerController.updatePassword}" disabled="#{(param['formUpdAddress:newPass']=='') || (param['formUpdAddress:oldPass']=='') || (param['formUpdAddress:']=='')}" /><p></p>
			<p:commandButton value="#{msgsCore['user.updatePassPage.cancelButton']}" action="#{registerController.cancelUpdatePassword}" />   <p></p>
		</h:form>
		
    
    </ui:define>
</ui:composition>